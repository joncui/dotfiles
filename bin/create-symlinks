#!/bin/bash

printf "Cleanup existing files\n"
rm ~/.config/emacs
rm ~/.config/git
rm ~/.config/ideavim
rm ~/.config/kitty
rm ~/.config/nvim
rm ~/.config/starship
rm ~/.config/zsh/.zprofile
rm ~/.config/zsh/.zshrc
rm ~/.zshenv

if [[ "$OSTYPE" == "darwin"* ]]; then
    printf "Linking hammerspoon\n"
    rm ~/.config/hammerspoon
    defaults write org.hammerspoon.Hammerspoon MJConfigFile "~/.config/hammerspoon/init.lua"
    ln -s $DOTDIR/hammerspoon ~/.config
fi

printf "Creating symlinks\n"
ln -s $DOTDIR/emacs ~/.config
ln -s $DOTDIR/git ~/.config
ln -s $DOTDIR/ideavim ~/.config
ln -s $DOTDIR/kitty ~/.config
ln -s $DOTDIR/nvim ~/.config
ln -s $DOTDIR/starship ~/.config
ln -s $DOTDIR/zprofile ~/.config/zsh/.zprofile
ln -s $DOTDIR/zshrc ~/.config/zsh/.zshrc

ln -s $DOTDIR/zshenv ~/.zshenv
