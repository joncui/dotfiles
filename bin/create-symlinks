#!/bin/bash

printf "Cleanup existing files\n"
rm ~/.config/emacs
rm ~/.config/git
rm ~/.config/ideavim
rm ~/.config/kitty
rm ~/.config/nvim
rm ~/.config/starship
rm ~/.config/zsh/.zprofile
rm ~/.config/zsh/.zshrc
rm ~/.zshenv

if [[ "$OSTYPE" == "darwin"* ]]; then
    printf "Linking hammerspoon\n"
    rm ~/.config/hammerspoon
    defaults write org.hammerspoon.Hammerspoon MJConfigFile "~/.config/hammerspoon/init.lua"
    ln -s ~/dotfiles/hammerspoon ~/.config
fi

printf "Creating symlinks\n"
ln -s ~/dotfiles/emacs ~/.config
ln -s ~/dotfiles/git ~/.config
ln -s ~/dotfiles/ideavim ~/.config
ln -s ~/dotfiles/kitty ~/.config
ln -s ~/dotfiles/nvim ~/.config
ln -s ~/dotfiles/starship ~/.config
ln -s ~/dotfiles/zprofile ~/.config/zsh/.zprofile
ln -s ~/dotfiles/zshrc ~/.config/zsh/.zshrc

ln -s ~/dotfiles/zshenv ~/.zshenv
